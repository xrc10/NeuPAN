# PyRender æ¸²æŸ“å¿«é€Ÿå¼€å§‹

## âœ… é—®é¢˜å·²è§£å†³ï¼

æ— å¤´æœåŠ¡å™¨æ¸²æŸ“é—®é¢˜å·²ç»è§£å†³ã€‚ç°åœ¨ä½ å¯ä»¥æ­£å¸¸ä½¿ç”¨æ¸²æŸ“åŠŸèƒ½äº†ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰

```bash
pip install -r requirements_render.txt
```

### 2. è¿è¡Œæ¸²æŸ“

**ä½¿ç”¨ä¾¿æ·è„šæœ¬ï¼ˆæ¨èï¼‰ï¼š**

```bash
./render_with_xvfb.sh -i render_data/episode_data.json
```

**æˆ–è€…ç›´æ¥ä½¿ç”¨ xvfb-runï¼š**

```bash
xvfb-run -a -s "-screen 0 1024x768x24" python render2Dto3D_pyrender.py -i render_data/episode_data.json
```

### 3. æŸ¥çœ‹è¾“å‡º

```bash
ls -lh navigation_data/seed_100/scene_00000/
```

è¾“å‡ºæ–‡ä»¶åŒ…æ‹¬ï¼š
- `0.json` - ä»»åŠ¡å…ƒæ•°æ®ï¼ˆ302 bytesï¼‰
- `0_info.json` - æ¯æ­¥è¯¦ç»†ä¿¡æ¯ï¼ˆ60 KBï¼‰
- `0.mp4` - ç¬¬ä¸€äººç§°è§†é¢‘ï¼ˆ3 MBï¼‰
- `scene_map.jpg` - åœºæ™¯ä¿¯è§†å›¾ï¼ˆ89 KBï¼‰
- `frame_*.jpg` - å…³é”®å¸§å›¾åƒï¼ˆæ¯10å¸§ä¿å­˜ä¸€æ¬¡ï¼‰

## ğŸ“ å¸¸ç”¨å‘½ä»¤

### æŒ‡å®šè¾“å‡ºç›®å½•

```bash
./render_with_xvfb.sh -i render_data/episode_data.json -o my_output_dir
```

### è‡ªå®šä¹‰è§†é¢‘å‚æ•°

```bash
./render_with_xvfb.sh -i render_data/episode_data.json \
    --fps 15 \
    --width 1280 \
    --height 720
```

### ç”Ÿæˆ GIF åŠ¨ç”»

```bash
./render_with_xvfb.sh -i render_data/episode_data.json --gif
```

### æ¸…ç†æ—§æ–‡ä»¶åé‡æ–°æ¸²æŸ“

```bash
./render_with_xvfb.sh -i render_data/episode_data.json --clean
```

## ğŸ”§ é—®é¢˜æ’æŸ¥

### å¦‚æœé‡åˆ° "xvfb-run: command not found"

å®‰è£… xvfbï¼š

```bash
sudo apt-get install xvfb
```

### å¦‚æœè§†é¢‘ç¼–ç å™¨è­¦å‘Š

è¿™äº›è­¦å‘Šé€šå¸¸ä¸å½±å“æ¸²æŸ“ã€‚å¦‚æœéœ€è¦ç‰¹å®šç¼–ç å™¨ï¼š

```bash
sudo apt-get install ffmpeg libx264-dev
```

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- `HEADLESS_SERVER_RENDERING.md` - æ— å¤´æœåŠ¡å™¨æ¸²æŸ“è¯¦ç»†æŒ‡å—
- `PYRENDER_README.md` - PyRender æŠ€æœ¯æ–‡æ¡£
- `render2Dto3D_pyrender.py --help` - æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°

## ğŸ¯ æ¸²æŸ“æ€§èƒ½

å½“å‰æµ‹è¯•ç»“æœï¼š
- 244 å¸§æ¸²æŸ“æ—¶é—´ï¼šçº¦ 100 ç§’
- è§†é¢‘å¤§å°ï¼š3 MBï¼ˆ640x480ï¼Œ10 FPSï¼‰
- å¹³å‡é€Ÿåº¦ï¼šçº¦ 2.4 å¸§/ç§’

## âœ¨ ç‰¹æ€§

- âœ… 3D åœºæ™¯æ¸²æŸ“ï¼ˆä½¿ç”¨ PyRenderï¼‰
- âœ… ç¬¬ä¸€äººç§°æ‘„åƒæœºè§†è§’
- âœ… åŠ¨æ€éšœç¢ç‰©æ”¯æŒ
- âœ… åœ°é¢ç½‘æ ¼å’Œåœ°æ ‡
- âœ… å¤©ç©ºèƒŒæ™¯æ¸å˜
- âœ… UI ä¿¡æ¯è¦†ç›–å±‚ï¼ˆä½ç½®ã€é€Ÿåº¦ã€æŒ‡å—é’ˆï¼‰
- âœ… è‡ªåŠ¨ä¿å­˜å…³é”®å¸§
- âœ… ç¬¦åˆ DATA_FORMAT.md è§„èŒƒ

## ğŸ”„ ä¸æ—§ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | æ—§ç‰ˆ (render2Dto3D.py) | æ–°ç‰ˆ (pyrender) |
|------|------------------------|-----------------|
| æ¸²æŸ“å¼•æ“ | æ‰‹å†™æŠ•å½± | PyRender 3D å¼•æ“ |
| æ¸²æŸ“è´¨é‡ | åŸºç¡€ | é«˜è´¨é‡ï¼ˆå…‰ç…§ã€é˜´å½±ï¼‰ |
| ä»£ç å¤æ‚åº¦ | é«˜ | ä½ï¼ˆå¼•æ“è‡ªåŠ¨å¤„ç†ï¼‰ |
| æ— å¤´æœåŠ¡å™¨ | æ”¯æŒ | æ”¯æŒï¼ˆéœ€è¦ xvfbï¼‰ |
| æ€§èƒ½ | å¿« | ä¸­ç­‰ |
| æ‰©å±•æ€§ | ä½ | é«˜ |

## ğŸ’¡ æç¤º

1. **é¦–æ¬¡æµ‹è¯•**ï¼šå…ˆç”¨ä½åˆ†è¾¨ç‡æµ‹è¯•ï¼ˆ`--width 320 --height 240`ï¼‰
2. **æ‰¹é‡å¤„ç†**ï¼šå¯ä»¥å†™è„šæœ¬å¾ªç¯å¤„ç†å¤šä¸ª episode
3. **ç›‘æ§èµ„æº**ï¼šä½¿ç”¨ `htop` æŸ¥çœ‹ CPU/å†…å­˜ä½¿ç”¨æƒ…å†µ
4. **è§†é¢‘é¢„è§ˆ**ï¼šä½¿ç”¨ `ffplay` æˆ–ä¸‹è½½åˆ°æœ¬åœ°æŸ¥çœ‹

## ğŸ“§ é—®é¢˜åé¦ˆ

å¦‚æœé‡åˆ°å…¶ä»–é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Python ç‰ˆæœ¬ï¼ˆå»ºè®® 3.8+ï¼‰
2. ç³»ç»Ÿä¾èµ–ï¼ˆxvfb, ffmpegï¼‰
3. è¾“å…¥æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®
